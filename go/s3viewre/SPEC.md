# S3バケット可視化WEBアプリ 仕様書

## 概要
AWS S3バケットの内容を視覚的に閲覧できるシンプルなWEBアプリケーション

## 主要機能

### 1. バケット一覧表示
- ユーザーがアクセス可能なS3バケットの一覧を表示
- 表示項目:
  - バケット名
  - 作成日時
  - リージョン

### 2. オブジェクト一覧表示
- 選択したバケット内のオブジェクト/フォルダを表示
- 表示項目:
  - オブジェクト名
  - サイズ
  - 最終更新日時
  - タイプ (フォルダ/ファイル)
- フォルダ階層のナビゲーション機能

### 3. 検索機能
- バケット内のオブジェクトをキーワードで検索
- プレフィックス(パス)での絞り込み

### 4. 基本情報表示
- 選択したオブジェクトの詳細情報
  - ファイルサイズ
  - Content-Type
  - 最終更新日時
  - ETag
  - Storage Class

## 技術スタック

### バックエンド
- Go (標準ライブラリ + net/http)
- AWS SDK for Go v2
- html/template でシンプルなHTMLレンダリング

### フロントエンド
- HTML + CSS (シンプルなスタイリング)
- Vanilla JavaScript (必要最小限)

### 認証
- AWS認証情報は環境変数または~/.aws/credentialsから取得
- IAMロールベースのアクセス制御

## 画面構成

### メイン画面
```
+------------------------------------------+
| S3 Bucket Viewer                         |
+------------------------------------------+
| Buckets:                                 |
| - my-bucket-1          [表示]           |
| - my-bucket-2          [表示]           |
| - my-bucket-3          [表示]           |
+------------------------------------------+
```

### バケット詳細画面
```
+------------------------------------------+
| Bucket: my-bucket-1          [戻る]     |
+------------------------------------------+
| Search: [_________________] [検索]      |
+------------------------------------------+
| パス: / home / documents /              |
+------------------------------------------+
| 名前              サイズ    更新日時     |
| 📁 folder1/       -         2025-01-15  |
| 📄 file1.txt      1.2KB     2025-01-14  |
| 📄 image.png      245KB     2025-01-13  |
+------------------------------------------+
```

## API エンドポイント

### GET /
- バケット一覧ページを表示

### GET /bucket/{bucket_name}
- 指定バケットのオブジェクト一覧を表示
- クエリパラメータ:
  - `prefix`: オブジェクトのプレフィックス(フォルダパス)
  - `search`: 検索キーワード

### GET /object/{bucket_name}/{object_key}
- オブジェクトの詳細情報を表示

## セキュリティ要件
- AWS認証情報は環境変数から読み込み、ハードコードしない
- IAMポリシーで必要最小限の権限を付与
  - `s3:ListAllMyBuckets`
  - `s3:ListBucket`
  - `s3:GetObject`
  - `s3:GetObjectMetadata`
